Search.setIndex({"docnames": ["glossary", "index", "introduction", "references", "register_conventions", "transfer_list"], "filenames": ["glossary.rst", "index.rst", "introduction.rst", "references.rst", "register_conventions.rst", "transfer_list.rst"], "titles": ["<span class=\"section-number\">5. </span>Glossary", "Firmware handoff specification", "<span class=\"section-number\">1. </span>Introduction", "<span class=\"section-number\">4. </span>References", "<span class=\"section-number\">3. </span>Register usage at handoff boundary", "<span class=\"section-number\">2. </span>Transfer list"], "terms": {"thi": [0, 2, 4, 5], "provid": [0, 2, 4, 5], "definit": [0, 5], "term": [0, 2], "abbrevi": 0, "us": [0, 2, 3, 4, 5], "firmwar": [0, 2], "handoff": [0, 2, 5], "document": [0, 2, 4, 5], "aarch32": [0, 1, 5], "32": [0, 4], "bit": [0, 4], "execut": [0, 2, 4, 5], "state": [0, 4, 5], "arm": [0, 1, 3], "A": [0, 2, 3, 4], "profil": [0, 3], "architectur": [0, 1, 2, 3], "aarch64": [0, 1, 5], "64": [0, 4, 5], "acpi": [0, 1, 3], "advanc": [0, 3], "configur": [0, 2, 3, 5], "power": [0, 3, 5], "interfac": [0, 3, 5], "ap": [0, 2], "applic": [0, 2, 5], "processor": [0, 2], "blob": [0, 2, 5], "list": [0, 1, 2, 4], "bloblist": 0, "i": [0, 2, 4, 5], "an": [0, 2, 4], "u": [0, 2, 5], "boot": [0, 2, 3, 5], "implement": [0, 2, 5], "protocol": [0, 3, 5], "dt": [0, 3], "devic": [0, 2, 3, 5], "tree": [0, 3, 5], "fdt": [0, 1, 4], "flatten": [0, 5], "ff": [0, 3], "framework": 0, "hob": [0, 1], "hand": [0, 2, 4, 5], "off": [0, 2, 4], "block": [0, 1], "mmio": [0, 5], "memori": [0, 2], "map": [0, 2, 5], "o": [0, 2, 5], "op": [0, 3], "tee": [0, 3], "open": [0, 5], "portabl": 0, "trust": [0, 1, 3], "environ": [0, 5], "oper": [0, 1], "system": 0, "pi": [0, 3, 5], "platform": [0, 1, 3, 4, 5], "initi": [0, 2, 3, 5], "sp": 0, "secur": [0, 2, 3, 5], "partit": [0, 3, 5], "spm": 0, "manag": [0, 3, 5], "spmc": [0, 3], "core": [0, 2, 3, 5], "spmcattr": [0, 3, 5], "attribut": [0, 5], "defin": [0, 2, 5], "manifest": [0, 3], "spmd": [0, 5], "dispatch": [0, 5], "tag": 0, "id": 0, "identifi": [0, 5], "determin": [0, 4, 5], "content": 0, "transfer": [0, 1, 2, 4], "entri": [0, 1, 2, 4], "tcg": [0, 5], "efi": [0, 3, 5], "comput": [0, 3, 5], "group": [0, 3, 5], "extens": 0, "te": [0, 1], "tf": [0, 3, 5], "tfaffamb": [0, 3, 5], "bind": [0, 1, 3], "tl": [0, 1, 2, 4], "tpm": [0, 1], "modul": 0, "crb": [0, 1], "command": [0, 5], "respons": [0, 2, 5], "buffer": [0, 5], "introduct": 1, "initialis": [1, 5], "stage": [1, 5], "requir": [1, 2], "header": 1, "flag": 1, "type": 1, "alloc": 1, "standard": 1, "valid": 1, "read": [1, 2], "ad": 1, "new": 1, "special": 1, "data": [1, 2, 3, 4], "align": 1, "creat": 1, "reloc": 1, "empti": 1, "layout": 1, "xferlist_void": 1, "xferlist_fdt": 1, "xferlist_hob_b": 1, "xferlist_hob_l": 1, "tabl": [1, 4], "aggreg": 1, "xferlist_acpi_aggr": 1, "event": 1, "log": 1, "xferlist_evlog": 1, "base": 1, "address": [1, 4], "xferlist_tpm_crb_bas": 1, "relat": 1, "regist": [1, 2, 5], "usag": [1, 5], "boundari": [1, 2, 5], "receiv": [1, 2, 5], "refer": [1, 5], "glossari": 1, "procedur": 2, "mai": [2, 5], "involv": 2, "sequenc": 2, "It": [2, 5], "assum": [2, 5], "onli": [2, 5], "primari": [2, 5], "activ": 2, "dure": [2, 5], "transit": 2, "point": [2, 4], "between": [2, 5], "remain": [2, 5], "must": [2, 4, 5], "held": 2, "reset": 2, "The": [2, 3, 4, 5], "distinct": [2, 5], "have": [2, 5], "specif": [2, 3, 5], "can": [2, 4, 5], "origin": [2, 5], "from": [2, 4, 5], "separ": [2, 5], "codebas": 2, "As": 2, "differ": [2, 5], "gener": [2, 5], "inform": [2, 5], "about": [2, 5], "exampl": [2, 5], "ar": [2, 5], "later": [2, 5], "thu": 2, "propag": 2, "along": [2, 5], "chain": [2, 5], "structur": [2, 3, 5], "which": [2, 5], "feasibl": 2, "shown": [2, 5], "fig": [2, 5], "1": [2, 4, 5], "introduc": 2, "concept": [2, 5], "free": [2, 5], "adopt": 2, "ani": [2, 5], "other": [2, 5], "depend": 2, "cold": [2, 3], "start": [2, 5], "board": 2, "control": [2, 5], "releas": 2, "process": [2, 5], "conceptu": 2, "broken": 2, "apart": 2, "follow": [2, 4, 5], "immut": 2, "obtain": [2, 5], "load": [2, 5], "authent": 2, "next": [2, 5], "ram": 2, "perform": [2, 5], "some": [2, 5], "privileg": 2, "level": 2, "addit": [2, 5], "imag": [2, 5], "subdivid": 2, "sub": [2, 5], "should": [2, 5], "termin": 2, "bootload": [2, 5], "befor": [2, 5], "compos": 2, "sever": 2, "produc": [2, 5], "consum": [2, 5], "section": [2, 4, 5], "2": [2, 4, 5], "append": [2, 5], "meant": 2, "contain": [2, 4, 5], "directli": 2, "access": [2, 5], "via": 2, "one": [2, 5], "flow": 2, "For": [2, 5], "particular": [2, 5], "sender": [2, 4], "updat": [2, 5], "field": [2, 4, 5], "allow": [2, 5], "remov": [2, 5], "If": [2, 4, 5], "phase": [2, 5], "fail": 2, "previou": [2, 5], "resum": 2, "recommend": [2, 5], "keep": 2, "prior": 2, "either": [2, 5], "explicitli": 2, "implicitli": 2, "link": [2, 5], "footnot": 2, "ha": [2, 5], "its": [2, 5], "develop": 2, "commun": 2, "In": [2, 4, 5], "emploi": 2, "interchang": 2, "fulli": 2, "compat": [2, 4, 5], "equival": 2, "devicetre": [3, 4, 5], "v0": 3, "4": [3, 5], "uefi": 3, "v1": 3, "8a": 3, "v6": 3, "5": [3, 5], "armarm": [3, 4], "manual": 3, "ddi0487": 3, "issu": 3, "l": 3, "opteecor": [3, 5], "v4": 3, "v2": 3, "12": 3, "tcg_efi": [3, 5], "v15": 3, "tf_bl31": [3, 5], "bl31": [3, 5], "specifi": [4, 5], "exchang": 4, "convent": [4, 5], "3": [4, 5], "24": 4, "when": [4, 5], "pointer": [4, 5], "tl_base_pa": [4, 5], "pass": [4, 5], "x3": [4, 5], "x2": [4, 5], "set": [4, 5], "0": [4, 5], "least": 4, "signific": 4, "x1": [4, 5], "signatur": [4, 5], "guarante": 4, "hold": [4, 5], "39": 4, "version": [4, 5], "being": [4, 5], "x0": [4, 5], "hardwar": [4, 5], "descript": [4, 5], "absent": 4, "present": [4, 5], "locat": [4, 5], "tag_id": [4, 5], "exist": [4, 5], "divid": 4, "31": [4, 5], "0x4a0f_b10b": [4, 5], "63": 4, "40": 4, "reserv": [4, 5], "zero": [4, 5], "25": 4, "r3": [4, 5], "r1": [4, 5], "8": [4, 5], "most": 4, "r2": [4, 5], "r0": [4, 5], "23": 4, "0x0f_b10b": 4, "more": 5, "whole": 5, "contigu": 5, "physic": 5, "space": 5, "all": 5, "byte": 5, "we": 5, "align8": 5, "denot": 5, "number": 5, "occupi": 5, "7": 5, "each": 5, "carri": 5, "associ": 5, "depict": 5, "first": 5, "end": 5, "second": 5, "multipl": 5, "after": 5, "non": 5, "store": 5, "littl": 5, "endian": 5, "order": 5, "immedi": 5, "r4": 5, "offset": 5, "nearest": 5, "preserv": 5, "begin": 5, "presenc": 5, "verifi": 5, "inspect": 5, "valu": 5, "chang": 5, "e": 5, "backward": 5, "older": 5, "reader": 5, "size": 5, "0x4": 5, "0x0": 5, "checksum": 5, "0x1": 5, "enabl": 5, "basic": 5, "protect": 5, "against": 5, "someth": 5, "overwrit": 5, "xor": 5, "over": 5, "everi": 5, "used_s": 5, "equal": 5, "purpos": 5, "calcul": 5, "note": 5, "includ": 5, "inter": 5, "pad": 5, "futur": 5, "up": 5, "total_s": 5, "uniniti": 5, "mean": 5, "exactli": 5, "same": 5, "still": 5, "0x5": 5, "describ": 5, "code": 5, "encount": 5, "higher": 5, "than": 5, "know": 5, "support": 5, "ignor": 5, "extra": 5, "potenti": 5, "larger": 5, "howev": 5, "unless": 5, "how": 5, "hdr_size": 5, "0x6": 5, "0x18": 5, "0x7": 5, "maximum": 5, "two": 5, "newli": 5, "so": 5, "whenev": 5, "current": 5, "0x8": 5, "within": 5, "account": 5, "plu": 5, "last": 5, "0xc": 5, "entir": 5, "spare": 5, "check": 5, "suffici": 5, "resiz": 5, "accordingli": 5, "respect": 5, "0x10": 5, "word": 5, "see": 5, "below": 5, "0x14": 5, "intend": 5, "signal": 5, "properti": 5, "accord": 5, "rule": 5, "name": 5, "has_checksum": 5, "true": 5, "indic": 5, "unus": 5, "data_s": 5, "mandatorili": 5, "travers": 5, "te_base_addr": 5, "c": 5, "languag": 5, "notat": 5, "deriv": 5, "next_base_addr": 5, "0x3": 5, "exact": 5, "expect": 5, "simpl": 5, "represent": 5, "repres": 5, "singl": 5, "logic": 5, "split": 5, "across": 5, "even": 5, "thei": 5, "re": 5, "alwai": 5, "appear": 5, "togeth": 5, "encourag": 5, "reusabl": 5, "situat": 5, "altern": 5, "complex": 5, "kind": 5, "well": 5, "establish": 5, "g": 5, "insert": 5, "consid": 5, "stabl": 5, "never": 5, "incompat": 5, "wai": 5, "desir": 5, "instead": 5, "manner": 5, "long": 5, "clearli": 5, "unknown": 5, "those": 5, "handl": 5, "rest": 5, "would": 5, "correct": 5, "also": 5, "expand": 5, "restrict": 5, "explicit": 5, "just": 5, "infer": 5, "mani": 5, "been": 5, "like": 5, "were": 5, "time": 5, "what": 5, "strongli": 5, "given": 5, "uniqu": 5, "design": 5, "instanc": 5, "disambigu": 5, "That": 5, "self": 5, "anyth": 5, "These": 5, "make": 5, "difficult": 5, "typic": 5, "happen": 5, "avail": 5, "need": 5, "region": 5, "outsid": 5, "necessari": 5, "But": 5, "avoid": 5, "itself": 5, "approach": 5, "greatest": 5, "flexibl": 5, "wish": 5, "sinc": 5, "fairli": 5, "without": 5, "strewn": 5, "around": 5, "where": 5, "due": 5, "project": 5, "rather": 5, "mix": 5, "Of": 5, "cours": 5, "except": 5, "belong": 5, "case": 5, "pr": 5, "submit": 5, "pull": 5, "request": 5, "repositori": 5, "add": 5, "do": 5, "submitt": 5, "try": 5, "cluster": 5, "16": 5, "256": 5, "chipset": 5, "could": 5, "adjac": 5, "predefin": 5, "0xff_f000": 5, "0xff_ffff": 5, "anyon": 5, "custom": 5, "discourag": 5, "local": 5, "experi": 5, "ever": 5, "close": 5, "sourc": 5, "compon": 5, "own": 5, "entiti": 5, "final": 5, "creator": 5, "intern": 5, "often": 5, "emerg": 5, "organ": 5, "goal": 5, "everyth": 5, "turn": 5, "out": 5, "anticip": 5, "you": 5, "public": 5, "": 5, "probabl": 5, "good": 5, "0x7f_ffff": 5, "0x80_0000": 5, "0xff_efff": 5, "extend": 5, "experiment": 5, "under": 5, "integr": 5, "track": 5, "accept": 5, "detail": 5, "clarifi": 5, "variou": 5, "serv": 5, "guidelin": 5, "input": 5, "tl_base_addr": 5, "compar": 5, "On": 5, "mismatch": 5, "abort": 5, "match": 5, "outlin": 5, "modifi": 5, "smaller": 5, "switch": 5, "interpret": 5, "illeg": 5, "found": 5, "option": 5, "total": 5, "area": 5, "known": 5, "corrupt": 5, "hardcod": 5, "while": 5, "otherwis": 5, "proce": 5, "step": 5, "new_tag_id": 5, "new_data_s": 5, "encapsul": 5, "copi": 5, "fly": 5, "look": 5, "greater": 5, "rememb": 5, "old_void_data_s": 5, "skip": 5, "substep": 5, "enough": 5, "room": 5, "wa": 5, "chosen": 5, "overwritten": 5, "new_align": 5, "alignment_mask": 5, "bypass": 5, "No": 5, "don": 5, "t": 5, "touch": 5, "form": 5, "portion": 5, "again": 5, "place": 5, "available_s": 5, "now": 5, "els": 5, "write": 5, "result": 5, "target_bas": 5, "target": 5, "target_s": 5, "alignment_offset": 5, "new_tl_bas": 5, "6": 5, "void": 5, "intent": 5, "subsequ": 5, "freeli": 5, "behind": 5, "cover": 5, "left": 5, "void_data": 5, "complet": 5, "construct": 5, "hob_block": 5, "phit": 5, "arbitrari": 5, "enclos": 5, "constraint": 5, "hob_list": 5, "usual": 5, "writer": 5, "correctli": 5, "preced": 5, "length": 5, "acpi_t": 5, "One": 5, "sizeof": 5, "need_to_replai": 5, "measur": 5, "them": 5, "unabl": 5, "themselv": 5, "awar": 5, "pcr": 5, "replai": 5, "record": 5, "onc": 5, "clear": 5, "default": 5, "event_log": 5, "carv": 5, "crb_base_address": 5, "crb_size": 5, "hafnium": 5, "0x100": 5, "0x101": 5, "0x102": 5, "0x103": 5, "0x104": 5, "0x105": 5, "0x106": 5, "0x107": 5, "0x108": 5, "0x109": 5, "error": 5, "xferlist_optee_pageable_part_addr": 5, "uint64_t": 5, "opte": 5, "payload": 5, "pp_addr": 5, "xferlist_dt_spmc_manifest": 5, "node": 5, "spmc_man": 5, "xferlist_exec_ep_info64": 5, "entry_point_info": 5, "pc": 5, "spsr": 5, "client": 5, "setup": 5, "concret": 5, "mode": 5, "runtim": 5, "correspond": 5, "practic": 5, "might": 5, "combin": 5, "softwar": 5, "run": 5, "realm": 5, "ep_info_hdr": 5, "0x2": 5, "0x58": 5, "program": 5, "counter": 5, "save": 5, "statu": 5, "0x20": 5, "0x28": 5, "0x30": 5, "x4": 5, "0x38": 5, "x5": 5, "0x40": 5, "x6": 5, "0x48": 5, "x7": 5, "0x50": 5, "encod": 5, "attr": 5, "xferlist_ffa_sp_binari": 5, "instal": 5, "ffa_sp_binari": 5, "xferlist_rw_mem_layout64": 5, "convei": 5, "bl2": 5, "extent": 5, "addr": 5, "xferlist_dt_ffa_manifest": 5, "ffa_manifest": 5, "xferlist_mbedtls_heap_info": 5, "stack": 5, "heap_address": 5, "heap_siz": 5, "xferlist_rw_mem_layout32": 5, "util": 5, "notifi": 5, "xferlist_exec_ep_info32": 5, "ident": 5, "0x24": 5, "lr_svc": 5, "0x1c": 5, "guid": 5, "xferlist_gpt_error_info": 5, "gpt_error_info": 5, "possibl": 5, "secondari": 5}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"glossari": 0, "firmwar": [1, 5], "handoff": [1, 4], "specif": 1, "content": [1, 5], "introduct": 2, "platform": 2, "initialis": 2, "stage": 2, "refer": 3, "regist": 4, "usag": 4, "boundari": 4, "arm": 4, "architectur": 4, "bind": 4, "aarch64": 4, "receiv": 4, "assign": 4, "aarch32": 4, "transfer": 5, "list": 5, "requir": 5, "header": 5, "tl": 5, "flag": 5, "entri": 5, "te": 5, "type": 5, "alloc": 5, "tag": 5, "id": 5, "rang": 5, "standard": 5, "oper": 5, "valid": 5, "read": 5, "ad": 5, "new": 5, "special": 5, "data": 5, "align": 5, "creat": 5, "reloc": 5, "empti": 5, "layout": 5, "xferlist_void": 5, "fdt": 5, "xferlist_fdt": 5, "hob": 5, "block": 5, "xferlist_hob_b": 5, "xferlist_hob_l": 5, "acpi": 5, "tabl": 5, "aggreg": 5, "xferlist_acpi_aggr": 5, "tpm": 5, "event": 5, "log": 5, "xferlist_evlog": 5, "crb": 5, "base": 5, "address": 5, "xferlist_tpm_crb_bas": 5, "relat": 5, "trust": 5, "summari": 5, "op": 5, "tee": 5, "pageabl": 5, "part": 5, "dt": 5, "format": 5, "spmc": 5, "manifest": 5, "point": 5, "info": 5, "param_head": 5, "an": 5, "ff": 5, "A": 5, "sp": 5, "binari": 5, "rw": 5, "memori": 5, "mbed": 5, "heap": 5, "32": 5, "bit": 5, "variant": 5, "gpt": 5}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 60}, "alltitles": {"Glossary": [[0, "glossary"]], "Firmware handoff specification": [[1, "firmware-handoff-specification"]], "Contents": [[1, null]], "Introduction": [[2, "introduction"]], "Platform initialisation stages": [[2, "platform-initialisation-stages"]], "References": [[3, "references"]], "Register usage at handoff boundary": [[4, "register-usage-at-handoff-boundary"]], "Arm Architecture bindings": [[4, "arm-architecture-bindings"]], "AArch64 Receiver": [[4, "aarch64-receiver"]], "AArch64 register assignment at the handoff boundary": [[4, "id4"]], "AArch32 Receiver": [[4, "aarch32-receiver"]], "AArch32 register assignment at the handoff boundary": [[4, "id5"]], "Transfer list": [[5, "transfer-list"]], "Transfer list requirements": [[5, "transfer-list-requirements"]], "Transfer list header": [[5, "transfer-list-header"]], "TL header": [[5, "id19"]], "TL Flags": [[5, "tl-flags"]], "Flags": [[5, "id20"]], "TL entry header": [[5, "tl-entry-header"]], "TE header": [[5, "id21"]], "TL Contents": [[5, "tl-contents"]], "Entry-type allocation": [[5, "entry-type-allocation"]], "Tag ID ranges": [[5, "id22"]], "Standard operations": [[5, "standard-operations"]], "Validating a TL header": [[5, "validating-a-tl-header"]], "Reading a TL": [[5, "reading-a-tl"]], "Adding a new TE": [[5, "adding-a-new-te"]], "Adding a new TE with special data alignment requirement": [[5, "adding-a-new-te-with-special-data-alignment-requirement"]], "Creating a TL": [[5, "creating-a-tl"]], "Relocating a TL": [[5, "relocating-a-tl"]], "Standard transfer entries": [[5, "standard-transfer-entries"]], "Empty entry layout (XFERLIST_VOID)": [[5, "empty-entry-layout-xferlist-void"]], "Empty type layout": [[5, "id23"]], "FDT entry layout (XFERLIST_FDT)": [[5, "fdt-entry-layout-xferlist-fdt"]], "FDT type layout": [[5, "id24"]], "HOB block entry layout (XFERLIST_HOB_B)": [[5, "hob-block-entry-layout-xferlist-hob-b"]], "HOB block type layout": [[5, "id25"]], "HOB list entry layout (XFERLIST_HOB_L)": [[5, "hob-list-entry-layout-xferlist-hob-l"]], "HOB list type layout": [[5, "id26"]], "ACPI table aggregate entry layout (XFERLIST_ACPI_AGGR)": [[5, "acpi-table-aggregate-entry-layout-xferlist-acpi-aggr"]], "ACPI table aggregate type layout": [[5, "id27"]], "TPM event log table entry layout (XFERLIST_EVLOG)": [[5, "tpm-event-log-table-entry-layout-xferlist-evlog"]], "TPM event log type layout": [[5, "id28"]], "TPM CRB base address table entry layout (XFERLIST_TPM_CRB_BASE)": [[5, "tpm-crb-base-address-table-entry-layout-xferlist-tpm-crb-base"]], "TPM CRB base type layout": [[5, "id29"]], "Entries related to Trusted Firmware": [[5, "entries-related-to-trusted-firmware"]], "Summary of Trusted Firmware Entries": [[5, "id30"]], "OP-TEE pageable part address type layout": [[5, "id31"]], "DT formatted SPMC manifest type layout": [[5, "id32"]], "Entry point info type layout": [[5, "id33"]], "Layout of param_header.": [[5, "id34"]], "An FF-A SP binary type layout": [[5, "id35"]], "Layout for a RW memory layout entry": [[5, "id36"]], "DT formatted FF-A manifest type layout": [[5, "id37"]], "Mbed-TLS heap info type layout": [[5, "id38"]], "Layout for a RW memory layout entry (32-bit variant)": [[5, "id39"]], "Entry point info type layout (32-bit variant)": [[5, "id40"]], "GPT info type layout": [[5, "id41"]]}, "indexentries": {"aarch32": [[0, "term-AArch32"]], "aarch64": [[0, "term-AArch64"]], "acpi": [[0, "term-ACPI"]], "ap": [[0, "term-AP"]], "blob list": [[0, "term-Blob-List"]], "dt": [[0, "term-DT"]], "fdt": [[0, "term-FDT"]], "ff-a": [[0, "term-FF-A"]], "hob": [[0, "term-HOB"]], "mmio": [[0, "term-MMIO"]], "op-tee": [[0, "term-OP-TEE"]], "os": [[0, "term-OS"]], "pi": [[0, "term-PI"]], "sp": [[0, "term-SP"]], "spm": [[0, "term-SPM"]], "spmc": [[0, "term-SPMC"]], "spmcattr": [[0, "term-SPMCATTR"]], "spmd": [[0, "term-SPMD"]], "tcg-efi": [[0, "term-TCG-EFI"]], "te": [[0, "term-TE"]], "tf-a": [[0, "term-TF-A"]], "tfaffamb": [[0, "term-TFAFFAMB"]], "tl": [[0, "term-TL"]], "tpm": [[0, "term-TPM"]], "tpm crb": [[0, "term-TPM-CRB"]], "tag-id": [[0, "term-Tag-ID"]]}})