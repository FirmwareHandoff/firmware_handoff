Search.setIndex({"docnames": ["index", "introduction", "references", "register_conventions", "transfer_list"], "filenames": ["index.rst", "introduction.rst", "references.rst", "register_conventions.rst", "transfer_list.rst"], "titles": ["Firmware handoff specification", "Introduction", "&lt;no title&gt;", "Register usage at handoff boundary", "Transfer list"], "terms": {"introduct": 0, "platform": [0, 2, 3, 4], "initialis": 0, "stage": [0, 4], "transfer": [0, 1, 3], "list": [0, 1, 3], "requir": [0, 1], "header": 0, "tl": [0, 1, 3], "entri": [0, 1, 3], "standard": 0, "oper": 0, "valid": 0, "read": [0, 1], "ad": 0, "new": 0, "te": 0, "special": 0, "data": [0, 1, 3], "align": 0, "creat": 0, "reloc": 0, "type": 0, "alloc": 0, "empti": 0, "layout": 0, "xferlist_void": 0, "fdt": [0, 3], "xferlist_fdt": 0, "hob": 0, "block": 0, "xferlist_hob_b": 0, "xferlist_hob_l": 0, "acpi": [0, 2], "tabl": [0, 3], "aggreg": 0, "xferlist_acpi_aggr": 0, "regist": [0, 1, 4], "usag": 0, "boundari": [0, 1, 4], "arm": [0, 2], "architectur": [0, 1, 2], "bind": 0, "aarch64": 0, "receiv": [0, 1, 4], "aarch32": 0, "A": [1, 2, 3, 4], "initi": [1, 2, 4], "procedur": 1, "mai": [1, 4], "involv": 1, "execut": [1, 3], "sequenc": [1, 4], "firmwar": [1, 4], "It": [1, 4], "i": [1, 3, 4], "assum": [1, 4], "onli": [1, 4], "primari": 1, "boot": 1, "core": 1, "activ": 1, "dure": 1, "transit": 1, "point": [1, 3], "between": 1, "remain": [1, 4], "must": [1, 3, 4], "held": 1, "reset": 1, "The": [1, 3, 4], "distinct": [1, 4], "have": [1, 4], "specif": [1, 2, 4], "respons": 1, "can": [1, 3, 4], "origin": [1, 4], "from": [1, 3, 4], "separ": 1, "codebas": 1, "As": 1, "differ": [1, 4], "gener": [1, 4], "inform": [1, 4], "about": 1, "configur": [1, 2], "exampl": [1, 4], "ar": [1, 4], "memori": [1, 4], "map": 1, "devic": 1, "thi": [1, 3, 4], "later": [1, 4], "thu": 1, "propag": 1, "along": 1, "chain": 1, "document": [1, 3, 4], "defin": [1, 4], "structur": [1, 4], "which": [1, 4], "us": [1, 3, 4], "handoff": [1, 4], "an": [1, 3, 4], "feasibl": 1, "shown": [1, 4], "fig": [1, 4], "1": [1, 3, 4], "provid": [1, 3, 4], "introduc": 1, "concept": [1, 4], "free": [1, 4], "adopt": 1, "ani": [1, 4], "other": [1, 4], "depend": 1, "cold": 1, "start": [1, 4], "board": 1, "control": [1, 4], "releas": 1, "applic": [1, 4], "processor": 1, "ap": 1, "process": [1, 4], "conceptu": 1, "broken": 1, "apart": 1, "follow": [1, 3, 4], "immut": 1, "obtain": [1, 4], "load": 1, "authent": 1, "next": [1, 4], "ram": 1, "perform": [1, 4], "some": 1, "secur": 1, "privileg": 1, "level": 1, "addit": [1, 4], "imag": [1, 4], "option": [1, 4], "subdivid": 1, "sub": 1, "termin": 1, "o": 1, "bootload": 1, "befor": [1, 4], "compos": [1, 4], "sever": 1, "produc": [1, 4], "consum": [1, 4], "sec_tl": 1, "append": [1, 4], "meant": 1, "contain": [1, 3, 4], "directli": 1, "access": 1, "via": 1, "one": [1, 4], "flow": 1, "term": 1, "For": [1, 4], "particular": [1, 4], "hand": [1, 3], "off": [1, 3], "sender": [1, 3], "updat": [1, 4], "field": [1, 3, 4], "allow": [1, 4], "remov": [1, 4], "note": [1, 4], "If": [1, 3, 4], "phase": 1, "fail": 1, "previou": [1, 4], "should": [1, 4], "resum": 1, "recommend": 1, "keep": 1, "prior": 1, "either": [1, 4], "explicitli": 1, "implicitli": 1, "link": 1, "dt": [2, 4], "devicetre": [2, 3, 4], "http": 2, "www": 2, "org": 2, "pi": [2, 4], "volum": 2, "3": [2, 3, 4], "share": 2, "element": 2, "uefi": 2, "forum": 2, "advanc": 2, "power": [2, 4], "interfac": 2, "armarm": [2, 3], "refer": 2, "manual": 2, "profil": 2, "ltd": 2, "section": [3, 4], "specifi": [3, 4], "exchang": 3, "state": 3, "convent": 3, "determin": [3, 4], "aarch64_receiv": 3, "aarch32_receiv": 3, "when": [3, 4], "In": [3, 4], "pointer": 3, "64": 3, "bit": 3, "tl_base_pa": [3, 4], "address": [3, 4], "pass": [3, 4], "x3": 3, "x2": 3, "set": [3, 4], "0": [3, 4], "24": 3, "least": 3, "signific": 3, "x1": 3, "signatur": [3, 4], "guarante": 3, "hold": [3, 4], "39": 3, "32": 3, "version": [3, 4], "being": [3, 4], "8": [3, 4], "x0": 3, "hardwar": [3, 4], "descript": [3, 4], "absent": 3, "present": [3, 4], "compat": [3, 4], "locat": [3, 4], "tag_id": [3, 4], "exist": [3, 4], "divid": 3, "23": 3, "0x6e_d0ff": [3, 4], "31": 3, "63": 3, "reserv": [3, 4], "zero": 3, "9": 3, "r3": [3, 4], "r1": [3, 4], "most": 3, "4": [3, 4], "r2": [3, 4], "r0": 3, "whole": 4, "contigu": 4, "physic": 4, "space": 4, "all": 4, "byte": 4, "we": 4, "align8": 4, "denot": 4, "number": 4, "occupi": 4, "sec_tl_entry_hdr": 4, "sec_std_entri": 4, "each": 4, "carri": 4, "identifi": 4, "content": 4, "associ": 4, "handoff_arch_bind": 4, "depict": 4, "2": 4, "first": 4, "end": 4, "second": 4, "multipl": 4, "after": 4, "store": 4, "littl": 4, "endian": 4, "order": 4, "base": 4, "immedi": 4, "r4": 4, "offset": 4, "nearest": 4, "preserv": 4, "begin": 4, "presenc": 4, "verifi": 4, "inspect": 4, "valu": 4, "chang": 4, "e": 4, "backward": 4, "older": 4, "reader": 4, "size": 4, "0x4": 4, "0x0": 4, "checksum": 4, "0x1": 4, "ensur": 4, "within": 4, "intact": 4, "sum": 4, "over": 4, "everi": 4, "modulo": 4, "256": 4, "equal": 4, "purpos": 4, "calcul": 4, "includ": 4, "inter": 4, "pad": 4, "futur": 4, "up": 4, "max_siz": 4, "uniniti": 4, "mean": 4, "exactli": 4, "same": 4, "still": 4, "0x5": 4, "describ": 4, "code": 4, "encount": 4, "higher": 4, "than": 4, "know": 4, "support": 4, "its": 4, "ignor": 4, "extra": 4, "potenti": 4, "larger": 4, "howev": 4, "unless": 4, "how": 4, "hdr_size": 4, "0x6": 4, "16": 4, "0x7": 4, "maximum": 4, "two": 4, "newli": 4, "so": 4, "whenev": 4, "current": 4, "0x8": 4, "account": 4, "plu": 4, "last": 4, "0xc": 4, "check": 4, "suffici": 4, "resiz": 4, "accordingli": 4, "respect": 4, "data_s": 4, "mandatorili": 4, "travers": 4, "comput": 4, "te_base_addr": 4, "c": 4, "languag": 4, "notat": 4, "deriv": 4, "next_base_addr": 4, "0x3": 4, "exact": 4, "more": 4, "detail": 4, "clarifi": 4, "variou": 4, "serv": 4, "guidelin": 4, "implement": 4, "input": 4, "tl_base_addr": 4, "compar": 4, "On": 4, "mismatch": 4, "abort": 4, "expect": 4, "match": 4, "outlin": 4, "modifi": 4, "smaller": 4, "switch": 4, "design": 4, "interpret": 4, "illeg": 4, "alwai": 4, "found": 4, "total": 4, "area": 4, "known": 4, "corrupt": 4, "minu": 4, "do": 4, "hardcod": 4, "while": 4, "otherwis": 4, "even": 4, "proce": 4, "step": 4, "add": 4, "new_tag_id": 4, "new_data_s": 4, "encapsul": 4, "copi": 4, "fly": 4, "look": 4, "where": 4, "greater": 4, "rememb": 4, "old_void_data_s": 4, "rest": 4, "subtract": 4, "skip": 4, "substep": 4, "enough": 4, "room": 4, "wa": 4, "chosen": 4, "overwritten": 4, "new_align": 4, "alignment_mask": 4, "bypass": 4, "overwrit": 4, "No": 4, "just": 4, "don": 4, "t": 4, "touch": 4, "form": 4, "portion": 4, "again": 4, "place": 4, "available_s": 4, "avail": 4, "0x10": 4, "now": 4, "write": 4, "result": 4, "target_bas": 4, "target": 4, "region": 4, "target_s": 4, "new_tl_bas": 4, "below": 4, "submit": 4, "pull": 4, "request": 4, "repositori": 4, "submitt": 4, "encourag": 4, "try": 4, "group": 4, "togeth": 4, "logic": 4, "cluster": 4, "g": 4, "relat": 4, "chipset": 4, "project": 4, "could": 4, "adjac": 4, "predefin": 4, "simpl": 4, "represent": 4, "repres": 4, "singl": 4, "split": 4, "across": 4, "thei": 4, "re": 4, "appear": 4, "reusabl": 4, "situat": 4, "altern": 4, "complex": 4, "kind": 4, "well": 4, "establish": 4, "insert": 4, "occur": 4, "time": 4, "instanc": 4, "object": 4, "consid": 4, "stabl": 4, "never": 4, "incompat": 4, "wai": 4, "desir": 4, "instead": 4, "manner": 4, "long": 4, "definit": 4, "clearli": 4, "unknown": 4, "those": 4, "handl": 4, "would": 4, "correct": 4, "also": 4, "expand": 4, "restrict": 4, "explicit": 4, "infer": 4, "mani": 4, "been": 4, "like": 4, "were": 4, "what": 4, "0xff_f000": 4, "0xff_ffff": 4, "non": 4, "anyon": 4, "custom": 4, "without": 4, "strongli": 4, "discourag": 4, "anyth": 4, "local": 4, "experi": 4, "ever": 4, "close": 4, "sourc": 4, "compon": 4, "own": 4, "entiti": 4, "entir": 4, "final": 4, "intern": 4, "reason": 4, "sinc": 4, "often": 4, "emerg": 4, "organ": 4, "goal": 4, "uniqu": 4, "everyth": 4, "case": 4, "turn": 4, "out": 4, "anticip": 4, "basic": 4, "you": 4, "public": 4, "open": 4, "": 4, "probabl": 4, "good": 4, "indic": 4, "0x7f_ffff": 4, "0x80_0000": 4, "0xff_efff": 4, "extend": 4, "necessari": 4, "experiment": 4, "under": 4, "integr": 4, "track": 4, "pr": 4, "defint": 4, "accept": 4, "void_entri": 4, "fdt_entri": 4, "hob_block_entri": 4, "hob_list_entri": 4, "acpi_aggr_entri": 4, "void": 4, "intent": 4, "need": 4, "subsequ": 4, "freeli": 4, "behind": 4, "cover": 4, "flatten": 4, "complet": 4, "construct": 4, "hob_block": 4, "phit": 4, "arbitrari": 4, "enclos": 4, "constraint": 4, "hob_list": 4, "usual": 4, "writer": 4, "correctli": 4, "allign": 4, "preced": 4, "ha": 4, "length": 4, "acpi_t": 4, "One": 4}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"firmwar": 0, "handoff": [0, 3], "specif": 0, "content": 0, "introduct": 1, "platform": 1, "initialis": 1, "stage": 1, "regist": 3, "usag": 3, "boundari": 3, "arm": 3, "architectur": 3, "bind": 3, "aarch64": 3, "receiv": 3, "assign": 3, "aarch32": 3, "transfer": 4, "list": 4, "requir": 4, "header": 4, "tl": 4, "entri": 4, "te": 4, "standard": 4, "oper": 4, "valid": 4, "read": 4, "ad": 4, "new": 4, "special": 4, "data": 4, "align": 4, "creat": 4, "reloc": 4, "type": 4, "alloc": 4, "tag": 4, "id": 4, "rang": 4, "empti": 4, "layout": 4, "xferlist_void": 4, "fdt": 4, "xferlist_fdt": 4, "hob": 4, "block": 4, "xferlist_hob_b": 4, "xferlist_hob_l": 4, "acpi": 4, "tabl": 4, "aggreg": 4, "xferlist_acpi_aggr": 4}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 60}, "alltitles": {"Firmware handoff specification": [[0, "firmware-handoff-specification"]], "Contents": [[0, null]], "Introduction": [[1, "introduction"]], "Platform initialisation stages": [[1, "platform-initialisation-stages"]], "Register usage at handoff boundary": [[3, "register-usage-at-handoff-boundary"]], "Arm Architecture bindings": [[3, "arm-architecture-bindings"]], "AArch64 Receiver": [[3, "aarch64-receiver"]], "AArch64 register assignment at the handoff boundary": [[3, "id4"]], "AArch32 Receiver": [[3, "aarch32-receiver"]], "AArch32 register assignment at the handoff boundary": [[3, "id5"]], "Transfer list": [[4, "transfer-list"]], "Transfer list requirements": [[4, "transfer-list-requirements"]], "Transfer list header": [[4, "transfer-list-header"]], "TL header": [[4, "id11"]], "TL entry header": [[4, "tl-entry-header"]], "TE header": [[4, "id12"]], "Standard operations": [[4, "standard-operations"]], "Validating a TL header": [[4, "validating-a-tl-header"]], "Reading a TL": [[4, "reading-a-tl"]], "Adding a new TE": [[4, "adding-a-new-te"]], "Adding a new TE with special data alignment requirement": [[4, "adding-a-new-te-with-special-data-alignment-requirement"]], "Creating a TL": [[4, "creating-a-tl"]], "Relocating a TL": [[4, "relocating-a-tl"]], "Entry type allocation": [[4, "entry-type-allocation"]], "Tag ID ranges": [[4, "id13"]], "Standard transfer entries": [[4, "standard-transfer-entries"]], "Empty entry layout (XFERLIST_VOID)": [[4, "empty-entry-layout-xferlist-void"]], "FDT entry layout (XFERLIST_FDT)": [[4, "fdt-entry-layout-xferlist-fdt"]], "FDT type layout": [[4, "id14"]], "HOB block entry layout (XFERLIST_HOB_B)": [[4, "hob-block-entry-layout-xferlist-hob-b"]], "HOB block type layout": [[4, "id15"]], "HOB list entry layout (XFERLIST_HOB_L)": [[4, "hob-list-entry-layout-xferlist-hob-l"]], "HOB list type layout": [[4, "id16"]], "ACPI table aggregate entry layout (XFERLIST_ACPI_AGGR)": [[4, "acpi-table-aggregate-entry-layout-xferlist-acpi-aggr"]], "ACPI table aggregate type layout": [[4, "id17"]]}, "indexentries": {}})